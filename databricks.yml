# This is a Databricks asset bundle definition for ccbricks.
# See https://docs.databricks.com/dev-tools/bundles/index.html for documentation.
bundle:
  name: ccbricks

workspace:
  root_path: /Workspace/Users/${workspace.current_user.userName}/.bundle/${bundle.name}/${bundle.target}
  artifact_path: /Volumes/${var.catalog}/${var.schema}/${var.volume}

artifacts:
  init_script:
    files:
      - source: ./src/install-claude-code.sh

include:
  - resources/*.yml
  - resources/*/*.yml

variables:
  catalog:
    description: The catalog to use
  schema:
    description: The schema to use
  volume:
    description: The volume to use
  node_type_id:
    description: The node type to use for the cluster

targets:
  prod:
    default: true
    variables:
      catalog: main
      schema: claude_code
      volume: init_scripts
      node_type_id: m6i.2xlarge
